{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/hcmus/pro_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Form,Button}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{listCategories}from\"../actions/productActions\";var SearchBox=function SearchBox(_ref){var history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),keyword=_useState2[0],setKeyword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var submitHandler=function submitHandler(e){e.preventDefault();if(keyword.trim()||category){if(keyword.trim()&&category){history.push(\"/search/category/\".concat(keyword,\"/\").concat(category));}else{if(keyword.trim()){history.push(\"/search/\".concat(keyword));}if(category){history.push(\"/category/\".concat(category));}}}else{history.push(\"/\");}};var dispatch=useDispatch();// Get list categories\nvar categoriestLists=useSelector(function(state){return state.categoriestList;});var categories=categoriestLists.categories;useEffect(function(){dispatch(listCategories());},[]);return/*#__PURE__*/React.createElement(Form,{onSubmit:submitHandler,style:{width:\"100%\"},inline:true},/*#__PURE__*/React.createElement(\"select\",{className:\"form-select home-category-select\",\"aria-label\":\"Default select example\",onChange:function onChange(e){setCategory(e.target.value);if(e.target.value){if(keyword.trim()){history.push(\"/search/category/\".concat(keyword,\"/\").concat(e.target.value));}else{history.push(\"/category/\".concat(e.target.value));}}},value:category},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Choose Category\"),categories!=undefined&&categories&&categories.map(function(ct,index){return/*#__PURE__*/React.createElement(\"option\",{value:ct,key:index},ct);})),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"q\",onChange:function onChange(e){return setKeyword(e.target.value);},placeholder:\"Search Products...\",className:\"mr-sm-2 ml-sm-5 border-5\"}));};export default SearchBox;","map":{"version":3,"names":["React","useEffect","useState","Form","Button","useDispatch","useSelector","listCategories","SearchBox","_ref","history","_useState","_useState2","_slicedToArray","keyword","setKeyword","_useState3","_useState4","category","setCategory","submitHandler","e","preventDefault","trim","push","concat","dispatch","categoriestLists","state","categoriestList","categories","createElement","onSubmit","style","width","inline","className","onChange","target","value","undefined","map","ct","index","key","Control","type","name","placeholder"],"sources":["/Users/mac/Desktop/hcmus/pro_shop/frontend/src/components/SearchBox.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listCategories } from \"../actions/productActions\";\n\nconst SearchBox = ({ history }) => {\n  const [keyword, setKeyword] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (keyword.trim() || category) {\n      if (keyword.trim() && category) {\n        history.push(`/search/category/${keyword}/${category}`);\n      }else\n      {\n        if(keyword.trim())\n        {\n          history.push(`/search/${keyword}`);\n        }\n        if(category)\n        {\n          history.push(`/category/${category}`);\n        }\n      }\n    } else {\n      history.push(\"/\");\n    }\n  };\n  const dispatch = useDispatch();\n  // Get list categories\n  const categoriestLists = useSelector((state) => state.categoriestList);\n  const { categories } = categoriestLists;\n\n  useEffect(() => {\n    dispatch(listCategories());\n  }, []);\n\n  return (\n    <Form onSubmit={submitHandler} style={{ width: \"100%\" }} inline>\n      <select\n        className=\"form-select home-category-select\"\n        aria-label=\"Default select example\"\n        onChange={(e) => {\n          setCategory(e.target.value);\n          if(e.target.value)\n          {\n            if(keyword.trim())\n            {\n              history.push(`/search/category/${keyword}/${e.target.value}`);\n            }\n            else{\n              history.push(`/category/${e.target.value}`);\n            }\n          }\n        }}\n        value={category}\n      >\n        <option value={\"\"}>Choose Category</option>\n        {categories != undefined &&\n          categories &&\n          categories.map((ct, index) => (\n            <option value={ct} key={index}>\n              {ct}\n            </option>\n          ))}\n      </select>\n      <Form.Control\n        type=\"text\"\n        name=\"q\"\n        onChange={(e) => setKeyword(e.target.value)}\n        placeholder=\"Search Products...\"\n        className=\"mr-sm-2 ml-sm-5 border-5\"\n      ></Form.Control>\n    </Form>\n  );\n};\n\nexport default SearchBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}