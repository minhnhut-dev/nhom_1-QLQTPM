{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/hcmus/pha\\u0302n ti\\u0301ch ye\\u0302u ca\\u0302\\u0300u pha\\u0302\\u0300n me\\u0302\\u0300m/pro_shop/frontend/src/components/SearchBox.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listCategories } from \"../actions/productActions\";\nconst SearchBox = _ref => {\n  let {\n    history\n  } = _ref;\n  const [keyword, setKeyword] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const submitHandler = e => {\n    e.preventDefault();\n    if (keyword.trim() || category) {\n      if (keyword.trim() && category) {\n        history.push(`/search/category/${keyword}/${category}`);\n      } else {\n        if (keyword.trim()) {\n          history.push(`/search/${keyword}`);\n        }\n        if (category) {\n          history.push(`/category/${category}`);\n        }\n      }\n    } else {\n      history.push(\"/\");\n    }\n  };\n  const dispatch = useDispatch();\n  // Get list categories\n  const categoriestLists = useSelector(state => state.categoriestList);\n  const {\n    categories\n  } = categoriestLists;\n  useEffect(() => {\n    dispatch(listCategories());\n  }, []);\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    style: {\n      width: \"100%\"\n    },\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-select home-category-select\",\n    \"aria-label\": \"Default select example\",\n    onChange: e => {\n      setCategory(e.target.value);\n      if (e.target.value) {\n        if (keyword.trim()) {\n          history.push(`/search/category/${keyword}/${e.target.value}`);\n        } else {\n          history.push(`/category/${e.target.value}`);\n        }\n      }\n    },\n    value: category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Choose Category\"), categories != undefined && categories && categories.map((ct, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: ct,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, ct))), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"q\",\n    onChange: e => setKeyword(e.target.value),\n    placeholder: \"Search Products...\",\n    className: \"mr-sm-2 ml-sm-5 border-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }));\n};\nexport default SearchBox;","map":{"version":3,"names":["React","useEffect","useState","Form","Button","useDispatch","useSelector","listCategories","SearchBox","_ref","history","keyword","setKeyword","category","setCategory","submitHandler","e","preventDefault","trim","push","dispatch","categoriestLists","state","categoriestList","categories","createElement","onSubmit","style","width","inline","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","target","value","undefined","map","ct","index","key","Control","type","name","placeholder"],"sources":["/Users/mac/Desktop/hcmus/phân tích yêu cầu phần mềm/pro_shop/frontend/src/components/SearchBox.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listCategories } from \"../actions/productActions\";\n\nconst SearchBox = ({ history }) => {\n  const [keyword, setKeyword] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (keyword.trim() || category) {\n      if (keyword.trim() && category) {\n        history.push(`/search/category/${keyword}/${category}`);\n      }else\n      {\n        if(keyword.trim())\n        {\n          history.push(`/search/${keyword}`);\n        }\n        if(category)\n        {\n          history.push(`/category/${category}`);\n        }\n      }\n    } else {\n      history.push(\"/\");\n    }\n  };\n  const dispatch = useDispatch();\n  // Get list categories\n  const categoriestLists = useSelector((state) => state.categoriestList);\n  const { categories } = categoriestLists;\n\n  useEffect(() => {\n    dispatch(listCategories());\n  }, []);\n\n  return (\n    <Form onSubmit={submitHandler} style={{ width: \"100%\" }} inline>\n      <select\n        className=\"form-select home-category-select\"\n        aria-label=\"Default select example\"\n        onChange={(e) => {\n          setCategory(e.target.value);\n          if(e.target.value)\n          {\n            if(keyword.trim())\n            {\n              history.push(`/search/category/${keyword}/${e.target.value}`);\n            }\n            else{\n              history.push(`/category/${e.target.value}`);\n            }\n          }\n        }}\n        value={category}\n      >\n        <option value={\"\"}>Choose Category</option>\n        {categories != undefined &&\n          categories &&\n          categories.map((ct, index) => (\n            <option value={ct} key={index}>\n              {ct}\n            </option>\n          ))}\n      </select>\n      <Form.Control\n        type=\"text\"\n        name=\"q\"\n        onChange={(e) => setKeyword(e.target.value)}\n        placeholder=\"Search Products...\"\n        className=\"mr-sm-2 ml-sm-5 border-5\"\n      ></Form.Control>\n    </Form>\n  );\n};\n\nexport default SearchBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}