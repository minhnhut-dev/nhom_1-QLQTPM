{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/hcmus/pro_shop/frontend/src/screens/HomeScreen.js\";\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col } from 'react-bootstrap';\nimport Product from '../components/Product';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport Paginate from '../components/Paginate';\nimport ProductCarousel from '../components/ProductCarousel';\nimport Meta from '../components/Meta';\nimport ProductListScreen from './ProductListScreen';\nimport { listProducts, listProductByCategories } from '../actions/productActions';\nconst HomeScreen = _ref => {\n  let {\n    match\n  } = _ref;\n  const keyword = match.params.keyword;\n  const category = match.params.category;\n  console.log(\"category\", category);\n  const pageNumber = match.params.pageNumber || 1;\n  const dispatch = useDispatch();\n  const productAllList = useSelector(state => state.productAllList);\n  const {\n    loading: loadingCategory,\n    productByCategorys\n  } = productAllList;\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products,\n    page,\n    pages\n  } = productList;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    dispatch(listProductByCategories());\n  }, []);\n  useEffect(() => {\n    dispatch(listProducts(keyword, pageNumber, '', true, category));\n  }, [dispatch, keyword, pageNumber, category]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, userInfo && userInfo.isAdmin ? /*#__PURE__*/React.createElement(ProductListScreen, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Meta, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), (loading || loadingCategory) && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 44\n    }\n  }), !keyword && !category ? /*#__PURE__*/React.createElement(ProductCarousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"btn btn-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Go Back\"), error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"category-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Search Result\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(Col, {\n    key: product._id,\n    sm: 12,\n    md: 6,\n    lg: 4,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Product, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })))))), !keyword && !category && productByCategorys && Object.entries(productByCategorys).map((item, index) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"category-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, item[0]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, item[1].map((product, index) => /*#__PURE__*/React.createElement(Col, {\n    key: product._id,\n    sm: 12,\n    md: 6,\n    lg: 4,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Product, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 23\n    }\n  })))))))));\n};\nexport default HomeScreen;","map":{"version":3,"names":["React","useEffect","Link","useDispatch","useSelector","Row","Col","Product","Message","Loader","Paginate","ProductCarousel","Meta","ProductListScreen","listProducts","listProductByCategories","HomeScreen","_ref","match","keyword","params","category","console","log","pageNumber","dispatch","productAllList","state","loading","loadingCategory","productByCategorys","productList","error","products","page","pages","userLogin","userInfo","createElement","Fragment","isAdmin","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","className","variant","map","product","key","_id","sm","md","lg","xl","Object","entries","item","index"],"sources":["/Users/mac/Desktop/hcmus/pro_shop/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Row, Col } from 'react-bootstrap'\nimport Product from '../components/Product'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport Paginate from '../components/Paginate'\nimport ProductCarousel from '../components/ProductCarousel'\nimport Meta from '../components/Meta'\nimport ProductListScreen from './ProductListScreen'\nimport { listProducts,listProductByCategories } from '../actions/productActions'\n\nconst HomeScreen = ({ match }) => {\n  const keyword = match.params.keyword\n\n  const category = match.params.category\n  console.log(\"category\",category)\n\n  const pageNumber = match.params.pageNumber || 1\n\n  const dispatch = useDispatch()\n\n  const productAllList = useSelector((state) => state.productAllList)\n  const { loading : loadingCategory, productByCategorys } = productAllList\n\n  const productList = useSelector((state) => state.productList)\n  const { loading, error, products, page, pages } = productList\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n  useEffect(() => {\n    dispatch(listProductByCategories())\n  }, [])\n\n\n  useEffect(() => {\n    dispatch(listProducts(keyword, pageNumber,'',true, category))\n  }, [dispatch, keyword, pageNumber,category])\n\n  return (\n    <>\n      {userInfo && userInfo.isAdmin ? \n      ( \n        <ProductListScreen />\n      )\n      : (\n        <>\n          <Meta />\n          {(loading || loadingCategory) && <Loader/> }\n          {!keyword && !category? (\n            <ProductCarousel />\n          ) \n          : \n          (\n            <>\n            <Link to='/' className='btn btn-light'>\n              Go Back\n            </Link>\n          { error ? (\n            <Message variant='danger'>{error}</Message>\n          ) : (\n            <div className='container-product'>\n              <h1 className='category-title'>Search Result</h1>\n              <Row>\n                {products.map((product) => (\n                  <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n                    <Product product={product} />\n                  </Col>\n                ))}\n              </Row>\n              {/* <Paginate\n                pages={pages}\n                page={page}\n                keyword={keyword ? keyword : ''}\n              /> */}\n            </div>\n          )}\n            </>\n          )}\n          {!keyword && !category && productByCategorys && Object.entries(productByCategorys).map((item,index)=>(\n            <React.Fragment key={index}>\n              <h1 className='category-title'>{item[0]}</h1>\n              <div className='container-product'>\n                <Row>\n                  {item[1].map((product,index) => (\n                    <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n                      <Product product={product} />\n                    </Col>\n                  ))}\n                </Row>\n              </div>\n            </React.Fragment>\n          ))}\n        </>\n      )}\n    </>\n  )\n}\n\nexport default HomeScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}