{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/hcmus/pro_shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Route}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{LinkContainer}from\"react-router-bootstrap\";import{Navbar,Nav,Container,NavDropdown,Badge}from\"react-bootstrap\";import SearchBox from\"./SearchBox\";import{logout}from\"../actions/userActions\";var Header=function Header(){var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),totalCart=_useState2[0],setTotalCart=_useState2[1];var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var logoutHandler=function logoutHandler(){dispatch(logout());};useEffect(function(){if(cartItems&&cartItems.length>0){var totalItems=0;cartItems.forEach(function(item){totalItems+=item.qty;});setTotalCart(totalItems);}},[cartItems]);return/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"lg\",collapseOnSelect:true},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(LinkContainer,{to:\"/\"},/*#__PURE__*/React.createElement(Navbar.Brand,{expand:\"xl\"},\"G01Shop\")),/*#__PURE__*/React.createElement(Navbar.Toggle,{className:\"toggle-button\",\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/React.createElement(Navbar.Collapse,{id:\"basic-navbar-nav\"},userInfo&&!(userInfo===null||userInfo===void 0?void 0:userInfo.isAdmin)&&/*#__PURE__*/React.createElement(Route,{render:function render(_ref){var history=_ref.history;return/*#__PURE__*/React.createElement(SearchBox,{className:\"me-2\",history:history});}}),/*#__PURE__*/React.createElement(Nav,{className:\"ml-auto\"},userInfo&&!(userInfo===null||userInfo===void 0?void 0:userInfo.isAdmin)&&/*#__PURE__*/React.createElement(LinkContainer,{to:\"/cart\",style:{width:\"100px\"}},/*#__PURE__*/React.createElement(Nav.Link,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-shopping-cart\"}),\" Cart\",totalCart&&totalCart>0&&/*#__PURE__*/React.createElement(Badge,{bg:\"danger\",className:\"badge-style\"},totalCart))),userInfo&&!userInfo.isAdmin&&/*#__PURE__*/React.createElement(NavDropdown,{title:userInfo.name,id:\"username\"},/*#__PURE__*/React.createElement(LinkContainer,{to:\"/profile\"},/*#__PURE__*/React.createElement(NavDropdown.Item,null,\"Profile\")),/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:logoutHandler},\"Logout\")),!userInfo&&/*#__PURE__*/React.createElement(LinkContainer,{to:\"/login\",style:{width:\"90px\"}},/*#__PURE__*/React.createElement(Nav.Link,null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user\"}),\" Sign In\")),userInfo&&userInfo.isAdmin&&/*#__PURE__*/React.createElement(NavDropdown,{title:\"Admin\",id:\"adminmenu\"},/*#__PURE__*/React.createElement(LinkContainer,{to:\"/admin/userlist\"},/*#__PURE__*/React.createElement(NavDropdown.Item,null,\"Users\")),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/admin/productlist\"},/*#__PURE__*/React.createElement(NavDropdown.Item,null,\"Products\")),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/admin/orderlist\"},/*#__PURE__*/React.createElement(NavDropdown.Item,null,\"Orders\")),/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:logoutHandler},\"Logout\")))))));};export default Header;","map":{"version":3,"names":["React","useEffect","useState","Route","useDispatch","useSelector","LinkContainer","Navbar","Nav","Container","NavDropdown","Badge","SearchBox","logout","Header","dispatch","userLogin","state","userInfo","_useState","_useState2","_slicedToArray","totalCart","setTotalCart","cart","cartItems","logoutHandler","length","totalItems","forEach","item","qty","createElement","bg","variant","expand","collapseOnSelect","to","Brand","Toggle","className","Collapse","id","isAdmin","render","_ref","history","style","width","Link","title","name","Item","onClick"],"sources":["/Users/mac/Desktop/hcmus/pro_shop/frontend/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Navbar, Nav, Container, NavDropdown, Badge } from \"react-bootstrap\";\nimport SearchBox from \"./SearchBox\";\nimport { logout } from \"../actions/userActions\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n  const [totalCart, setTotalCart] = useState(0);\n\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n\n  const logoutHandler = () => {\n    dispatch(logout());\n  };\n  \n  useEffect(() => {\n     if (cartItems && cartItems.length > 0) {\n      let totalItems = 0\n      cartItems.forEach((item) => {\n        totalItems += item.qty;\n      });\n      setTotalCart(totalItems);\n     }\n  }, [cartItems]);\n\n  return (\n    <header>\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\n        <Container>\n          <LinkContainer to=\"/\">\n            <Navbar.Brand expand=\"xl\">G01Shop</Navbar.Brand>\n          </LinkContainer>\n          <Navbar.Toggle\n            className=\"toggle-button\"\n            aria-controls=\"basic-navbar-nav\"\n          />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            {userInfo && !userInfo?.isAdmin && (\n              <Route\n                render={({ history }) => (\n                  <SearchBox className=\"me-2\" history={history} />\n                )}\n              />\n            )}\n\n            <Nav className=\"ml-auto\">\n              {userInfo && !userInfo?.isAdmin && (\n                <LinkContainer to=\"/cart\" style={{ width: \"100px\" }}>\n                  <Nav.Link>\n                    <i className=\"fas fa-shopping-cart\"></i> Cart\n                    {totalCart && totalCart > 0 && (\n                      <Badge\n                        bg=\"danger\"\n                        className=\"badge-style\"\n                      >\n                        {totalCart}\n                      </Badge>\n                    )}\n                  </Nav.Link>\n                </LinkContainer>\n              )}\n              {userInfo && !userInfo.isAdmin && (\n                <NavDropdown title={userInfo.name} id=\"username\">\n                  <LinkContainer to=\"/profile\">\n                    <NavDropdown.Item>Profile</NavDropdown.Item>\n                  </LinkContainer>\n                  <NavDropdown.Item onClick={logoutHandler}>\n                    Logout\n                  </NavDropdown.Item>\n                </NavDropdown>\n              )}\n              {!userInfo && (\n                <LinkContainer to=\"/login\" style={{ width: \"90px\" }}>\n                  <Nav.Link>\n                    <i className=\"fas fa-user\"></i> Sign In\n                  </Nav.Link>\n                </LinkContainer>\n              )}\n              {userInfo && userInfo.isAdmin && (\n                <NavDropdown title=\"Admin\" id=\"adminmenu\">\n                  <LinkContainer to=\"/admin/userlist\">\n                    <NavDropdown.Item>Users</NavDropdown.Item>\n                  </LinkContainer>\n                  <LinkContainer to=\"/admin/productlist\">\n                    <NavDropdown.Item>Products</NavDropdown.Item>\n                  </LinkContainer>\n                  <LinkContainer to=\"/admin/orderlist\">\n                    <NavDropdown.Item>Orders</NavDropdown.Item>\n                  </LinkContainer>\n                  <NavDropdown.Item onClick={logoutHandler}>\n                    Logout\n                  </NavDropdown.Item>\n                </NavDropdown>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </header>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}